<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·¯æ——(RoadFlag)æ¼”ç¤º</title>
    <style>
        :root {
            --primary-red: #FF3B30;
            --dark-red: #D70015;
            --black: #000000;
            --dark-bg: #121212;
            --card-bg: #1E1E1E;
            --gray: #8E8E93;
            --light-gray: #2C2C2E;
            --white: #FFFFFF;
        }
        
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--dark-bg);
            color: var(--white);
        }
        
        .container {
            max-width: 414px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* å¯¼èˆªæ  */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 16px;
            background-color: var(--card-bg);
            border-bottom: 0.5px solid var(--light-gray);
        }
        
        .navbar-title {
            font-weight: 600;
            font-size: 17px;
        }
        
        .navbar-button {
            color: var(--primary-red);
            font-weight: 500;
            background: none;
            border: none;
            font-size: 16px;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .button {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: var(--primary-red);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            margin: 10px 0;
            cursor: pointer;
        }
        
        .button.secondary {
            background-color: var(--light-gray);
            color: var(--white);
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 16px;
            margin: 10px;
            border: 0.5px solid var(--light-gray);
        }
        
        .task-title {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 6px;
        }
        
        .task-points {
            color: var(--primary-red);
            font-size: 15px;
            font-weight: 500;
        }
        
        .task-stats {
            display: flex;
            margin-top: 8px;
            font-size: 13px;
            color: var(--gray);
        }
        
        .task-stat {
            display: flex;
            align-items: center;
            margin-right: 12px;
        }
        
        .task-stat svg {
            margin-right: 4px;
            width: 14px;
            height: 14px;
            fill: var(--gray);
        }
        
        /* è¡¨å•å…ƒç´  */
        .form-group {
            margin-bottom: 16px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: var(--white);
        }
        
        input, textarea {
            width: 100%;
            padding: 12px;
            background-color: var(--light-gray);
            border: none;
            border-radius: 10px;
            font-size: 16px;
            color: var(--white);
        }
        
        textarea {
            height: 100px;
        }
        
        /* é¡µé¢åˆ‡æ¢ */
        .page {
            display: none;
            padding: 16px;
            padding-bottom: 84px; /* ç»™tab barç•™ç©ºé—´ */
        }
        
        .page.active {
            display: block;
        }
        
        /* åœ°å›¾å ä½å›¾ */
        .map-placeholder {
            width: 100%;
            height: 200px;
            background-color: var(--light-gray);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--gray);
            margin: 16px 0;
        }
        
        /* ç…§ç‰‡é¢„è§ˆ */
        .photo-preview {
            width: 100%;
            height: 200px;
            background-color: var(--light-gray);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 16px 0;
            overflow: hidden;
        }
        
        .photo-preview img {
            max-width: 100%;
            max-height: 100%;
        }
        
        /* æ ‡ç­¾æ  - iOSé£æ ¼ */
        .tab-bar {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 414px;
            display: none; /* é»˜è®¤éšè—ï¼Œç™»å½•åæ˜¾ç¤º */
            flex;
            background-color: var(--card-bg);
            border-top: 0.5px solid var(--light-gray);
            padding: 8px 0;
            height: 84px;
            box-sizing: border-box;
        }
        
        .tab-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            text-decoration: none;
            font-size: 12px;
            width: 33.33%;
            padding: 6px 0;
        }
        
        .tab-item.active {
            color: var(--primary-red);
        }
        
        .tab-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* ç©ºçŠ¶æ€æç¤º */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }
        
        /* çŠ¶æ€æ ‡ç­¾ */
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
        }
        
        .status-pending {
            background-color: rgba(255, 214, 10, 0.15);
            color: #FFD60A;
        }
        
        .status-completed {
            background-color: rgba(48, 209, 88, 0.15);
            color: #30D158;
        }
        
        .status-inprogress {
            background-color: rgba(10, 132, 255, 0.15);
            color: #0A84FF;
        }
        
        /* å“åº”è€…åˆ—è¡¨ */
        .responder-list {
            margin-top: 16px;
        }
        
        .responder-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 0.5px solid var(--light-gray);
        }
        
        .responder-avatar {
            width: 40px;
            height: 40px;
            background-color: var(--light-gray);
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 12px;
        }
        
        .responder-info {
            flex: 1;
        }
        
        .responder-name {
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .responder-status {
            font-size: 12px;
            color: var(--gray);
        }
        
        /* ç™»å½•ä¿æŠ¤ */
        .login-protected {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 60vh;
            text-align: center;
            padding: 20px;
        }
        
        .login-protected-icon {
            font-size: 40px;
            color: var(--primary-red);
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ç™»å½•é¡µé¢ -->
        <div class="page active" id="login-page">
            <div style="text-align: center; margin-top: 60px;">
                <div style="font-size: 50px; color: var(--primary-red);">ğŸš©</div>
                <h1 style="margin-top: 16px;">è·¯æ——</h1>
                <p style="color: var(--gray);">å…¨çƒç…§ç‰‡éœ€æ±‚ï¼Œæœ¬åœ°å³æ—¶è§£å†³</p>
            </div>
            
            <div style="margin-top: 60px; padding: 0 20px;">
                <div class="form-group">
                    <label>é‚®ç®±</label>
                    <input type="email" id="login-email" value="demo_requester@roadflag.com">
                </div>
                
                <div class="form-group">
                    <label>å¯†ç </label>
                    <input type="password" id="login-password" value="123456">
                </div>
                
                <button class="button" onclick="login()">ç™»å½•</button>
                
                <p style="text-align: center; color: var(--gray); font-size: 14px; margin-top: 20px;">
                    æ¼”ç¤ºè´¦å·å·²è‡ªåŠ¨å¡«å……ï¼Œç›´æ¥ç‚¹å‡»ç™»å½•
                </p>
            </div>
        </div>
        
        <!-- å‘é€è¯·æ±‚é¡µé¢ -->
        <div class="page" id="requests-page">
            <div class="navbar">
                <div class="navbar-title">æˆ‘çš„è¯·æ±‚</div>
                <button class="navbar-button" onclick="showPage('create-request-page')">æ–°å»º</button>
            </div>
            
            <div id="my-requests-list">
                <div class="card" onclick="showRequestDetail('æ¸…åå¤§å­¦äºŒæ ¡é—¨ç…§ç‰‡', 'éœ€è¦äºŒæ ¡é—¨æ­£é¢æ¸…æ™°ç…§ç‰‡ï¼ŒåŒ…å«"æ¸…åå›­"ç‰ŒåŒ¾', 300, 'pending', 24, 3)">
                    <div class="task-title">
                        æ¸…åå¤§å­¦äºŒæ ¡é—¨ç…§ç‰‡
                        <span class="status-badge status-pending">å¾…å“åº”</span>
                    </div>
                    <div class="task-points">300ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                            24äººçœ‹è¿‡
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            3äººå“åº”ä¸­
                        </div>
                    </div>
                </div>
                
                <div class="card" onclick="showRequestDetail('åŒ—äº¬å¤§å­¦å›¾ä¹¦é¦†', 'éœ€è¦å›¾ä¹¦é¦†æ­£é—¨å…¨æ™¯ç…§ç‰‡', 400, 'inprogress', 42, 5)">
                    <div class="task-title">
                        åŒ—äº¬å¤§å­¦å›¾ä¹¦é¦†
                        <span class="status-badge status-inprogress">å“åº”ä¸­</span>
                    </div>
                    <div class="task-points">400ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                            42äººçœ‹è¿‡
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            5äººå“åº”ä¸­
                        </div>
                    </div>
                </div>
                
                <div class="card" onclick="showRequestDetail('ä¸­å…³æ‘åˆ›ä¸šå¤§è¡—æ ‡å¿—', 'éœ€è¦è¡—å£æ ‡å¿—æ€§é›•å¡‘ç…§ç‰‡', 250, 'completed', 18, 2)">
                    <div class="task-title">
                        ä¸­å…³æ‘åˆ›ä¸šå¤§è¡—æ ‡å¿—
                        <span class="status-badge status-completed">å·²å®Œæˆ</span>
                    </div>
                    <div class="task-points">250ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                            18äººçœ‹è¿‡
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            2äººå“åº”è¿‡
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å›åº”è¯·æ±‚é¡µé¢ -->
        <div class="page" id="responses-page">
            <div class="navbar">
                <div class="navbar-title">å¯æ¥ä»»åŠ¡</div>
                <button class="navbar-button" onclick="refreshTasks()">åˆ·æ–°</button>
            </div>
            
            <div id="available-requests-list">
                <div class="card" onclick="showResponseDetail('é¢å’Œå›­åä¸ƒå­”æ¡¥', 'éœ€è¦æ¡¥èº«å…¨æ™¯ç…§ç‰‡ï¼Œæœ€å¥½æœ‰è½æ—¥æ™¯è‰²', 350, '2.3å…¬é‡Œ', '6å°æ—¶', 8)">
                    <div class="task-title">é¢å’Œå›­åä¸ƒå­”æ¡¥</div>
                    <div class="task-points">350ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                            2.3å…¬é‡Œ
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                            å‰©ä½™6å°æ—¶
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            8äººå“åº”ä¸­
                        </div>
                    </div>
                </div>
                
                <div class="card" onclick="showResponseDetail('798è‰ºæœ¯åŒºæ¶‚é¸¦å¢™', 'éœ€è¦æœ€æ–°çš„æ¶‚é¸¦ä½œå“ç…§ç‰‡ï¼Œå…¨æ™¯+ç»†èŠ‚', 280, '1.8å…¬é‡Œ', '12å°æ—¶', 3)">
                    <div class="task-title">798è‰ºæœ¯åŒºæ¶‚é¸¦å¢™</div>
                    <div class="task-points">280ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                            1.8å…¬é‡Œ
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                            å‰©ä½™12å°æ—¶
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            3äººå“åº”ä¸­
                        </div>
                    </div>
                </div>
                
                <div class="card" onclick="showResponseDetail('å›½å®¶ä½“è‚²åœºé¸Ÿå·¢', 'éœ€è¦å¤œæ™¯ç…§ç‰‡ï¼Œå±•ç¤ºç¯å…‰æ•ˆæœ', 420, '5.6å…¬é‡Œ', '3å¤©', 12)">
                    <div class="task-title">å›½å®¶ä½“è‚²åœºé¸Ÿå·¢</div>
                    <div class="task-points">420ç§¯åˆ†</div>
                    <div class="task-stats">
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                            5.6å…¬é‡Œ
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                            å‰©ä½™3å¤©
                        </div>
                        <div class="task-stat">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                            12äººå“åº”ä¸­
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æˆ‘çš„é¡µé¢ -->
        <div class="page" id="profile-page">
            <div class="navbar">
                <div class="navbar-title">æˆ‘çš„è´¦æˆ·</div>
            </div>
            
            <div style="padding: 20px; text-align: center;">
                <div style="width: 80px; height: 80px; background: var(--light-gray); border-radius: 40px; margin: 0 auto 15px; display: flex; justify-content: center; align-items: center; font-size: 30px;">
                    ğŸ‘¤
                </div>
                <h3>æ¼”ç¤ºç”¨æˆ·</h3>
                <div style="color: var(--gray); margin-bottom: 20px;">demo@roadflag.com</div>
                
                <div style="background: var(--card-bg); border-radius: 12px; padding: 16px; margin-bottom: 20px; border: 0.5px solid var(--light-gray);">
                    <div style="font-size: 14px; color: var(--gray);">æˆ‘çš„ç§¯åˆ†</div>
                    <div style="font-size: 28px; font-weight: 600; color: var(--primary-red); margin: 8px 0;">1,850</div>
                    <button class="button" style="margin-top: 0; padding: 8px;">ç§¯åˆ†å…‘æ¢</button>
                </div>
                
                <div style="background: var(--card-bg); border-radius: 12px; padding: 16px; margin-bottom: 20px; border: 0.5px solid var(--light-gray); text-align: left;">
                    <div style="font-weight: 500; margin-bottom: 12px;">ä»»åŠ¡ç»Ÿè®¡</div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray);">å·²å‘å¸ƒè¯·æ±‚</span>
                        <span>5</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray);">å·²æ¥å—ä»»åŠ¡</span>
                        <span>12</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: var(--gray);">å·²å®Œæˆä»»åŠ¡</span>
                        <span>8</span>
                    </div>
                </div>
                
                <button class="button secondary" onclick="logout()">é€€å‡ºç™»å½•</button>
            </div>
        </div>
        
        <!-- åˆ›å»ºè¯·æ±‚é¡µé¢ -->
        <div class="page" id="create-request-page">
            <div class="navbar">
                <div class="navbar-title">æ–°å»ºè¯·æ±‚</div>
                <button class="navbar-button" onclick="showPage('requests-page')">å–æ¶ˆ</button>
            </div>
            
            <div style="padding: 16px;">
                <div class="form-group">
                    <label>æ ‡é¢˜</label>
                    <input type="text" id="request-title" placeholder="ä¾‹å¦‚ï¼šæ¸…åå¤§å­¦äºŒæ ¡é—¨ç…§ç‰‡">
                </div>
                
                <div class="form-group">
                    <label>æè¿°</label>
                    <textarea id="request-desc" placeholder="è¯¦ç»†æè¿°æ‚¨éœ€è¦çš„ç…§ç‰‡å†…å®¹"></textarea>
                </div>
                
                <div class="form-group">
                    <label>ç§¯åˆ†å¥–åŠ±</label>
                    <input type="number" id="request-points" value="300">
                </div>
                
                <div class="form-group">
                    <label>ä½ç½®</label>
                    <div class="map-placeholder" onclick="showPage('location-picker-page')">
                        ç‚¹å‡»é€‰æ‹©ä½ç½®
                    </div>
                </div>
                
                <button class="button" onclick="createRequest()">å‘å¸ƒè¯·æ±‚</button>
            </div>
        </div>
        
        <!-- ä½ç½®é€‰æ‹©é¡µé¢ -->
        <div class="page" id="location-picker-page">
            <div class="navbar">
                <div class="navbar-title">é€‰æ‹©ä½ç½®</div>
                <button class="navbar-button" onclick="showPage('create-request-page')">å®Œæˆ</button>
            </div>
            
            <div class="map-placeholder" style="height: 70vh;">
                [åœ°å›¾ç•Œé¢]
                <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--primary-red); color: white; padding: 10px 20px; border-radius: 20px;">
                    é•¿æŒ‰åœ°å›¾é€‰æ‹©ä½ç½®
                </div>
            </div>
        </div>
        
        <!-- è¯·æ±‚è¯¦æƒ…é¡µé¢ -->
        <div class="page" id="request-detail-page">
            <div class="navbar">
                <div class="navbar-title">è¯·æ±‚è¯¦æƒ…</div>
                <button class="navbar-button" onclick="showPage('requests-page')">è¿”å›</button>
            </div>
            
            <div style="padding: 16px;">
                <h2 id="request-detail-title">æ¸…åå¤§å­¦äºŒæ ¡é—¨ç…§ç‰‡</h2>
                <div style="color: var(--primary-red); font-size: 16px; margin: 10px 0;" id="request-detail-points">300ç§¯åˆ†</div>
                
                <div style="display: flex; margin-bottom: 16px;">
                    <div style="margin-right: 16px;">
                        <div style="font-size: 13px; color: var(--gray);">çŠ¶æ€</div>
                        <div id="request-detail-status" style="font-size: 15px;">å¾…å“åº”</div>
                    </div>
                    <div>
                        <div style="font-size: 13px; color: var(--gray);">å‘å¸ƒæ—¶é—´</div>
                        <div style="font-size: 15px;">2å°æ—¶å‰</div>
                    </div>
                </div>
                
                <div style="background: var(--card-bg); padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 0.5px solid var(--light-gray);">
                    <div style="font-weight: 500; margin-bottom: 8px;">è¯·æ±‚æè¿°</div>
                    <div id="request-detail-desc" style="line-height: 1.5;">éœ€è¦äºŒæ ¡é—¨æ­£é¢æ¸…æ™°ç…§ç‰‡ï¼ŒåŒ…å«"æ¸…åå›­"ç‰ŒåŒ¾</div>
                </div>
                
                <div style="background: var(--card-bg); padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 0.5px solid var(--light-gray);">
                    <div style="font-weight: 500; margin-bottom: 8px;">ç»Ÿè®¡æ•°æ®</div>
                    <div style="display: flex; margin-bottom: 8px;">
                        <div style="margin-right: 24px;">
                            <div style="font-size: 13px; color: var(--gray);">æŸ¥çœ‹æ¬¡æ•°</div>
                            <div style="font-size: 15px;">24æ¬¡</div>
                        </div>
                        <div>
                            <div style="font-size: 13px; color: var(--gray);">å“åº”äººæ•°</div>
                            <div style="font-size: 15px;">3äºº</div>
                        </div>
                    </div>
                </div>
                
                <div class="map-placeholder">
                    [è¯·æ±‚ä½ç½®åœ°å›¾]
                </div>
                
                <div id="responders-section" style="margin-top: 20px;">
                    <div style="font-weight: 500; margin-bottom: 12px;">å“åº”è€… (3)</div>
                    <div class="responder-list">
                        <div class="responder-item">
                            <div class="responder-avatar">A</div>
                            <div class="responder-info">
                                <div class="responder-name">Alice</div>
                                <div class="responder-status">æ­£åœ¨å‰å¾€ç›®çš„åœ°</div>
                            </div>
                        </div>
                        <div class="responder-item">
                            <div class="responder-avatar">B</div>
                            <div class="responder-info">
                                <div class="responder-name">Bob</div>
                                <div class="responder-status">å·²æ‹æ‘„ç…§ç‰‡ï¼Œå¾…ä¸Šä¼ </div>
                            </div>
                        </div>
                        <div class="responder-item">
                            <div class="responder-avatar">C</div>
                            <div class="responder-info">
                                <div class="responder-name">Charlie</div>
                                <div class="responder-status">å·²æäº¤ç…§ç‰‡</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="request-submissions" style="margin-top: 20px; display: none;">
                    <div style="font-weight: 500; margin-bottom: 12px;">å·²æäº¤ç…§ç‰‡</div>
                    <div class="photo-preview">
                        <img src="https://via.placeholder.com/300x200/1E1E1E/FFFFFF?text=æ¸…åå¤§å­¦äºŒæ ¡é—¨" style="width: 100%;">
                    </div>
                    <button class="button" style="margin-top: 16px;">æ¥å—ç…§ç‰‡</button>
                    <button class="button secondary" style="margin-top: 10px;">è¦æ±‚é‡æ‹</button>
                </div>
                
                <button class="button secondary" onclick="showPage('requests-page')" style="margin-top: 16px;">è¿”å›åˆ—è¡¨</button>
            </div>
        </div>
        
        <!-- å›åº”è¯¦æƒ…é¡µé¢ -->
        <div class="page" id="response-detail-page">
            <div class="navbar">
                <div class="navbar-title">ä»»åŠ¡è¯¦æƒ…</div>
                <button class="navbar-button" onclick="showPage('responses-page')">è¿”å›</button>
            </div>
            
            <div style="padding: 16px;">
                <h2 id="response-detail-title">é¢å’Œå›­åä¸ƒå­”æ¡¥</h2>
                <div style="color: var(--primary-red); font-size: 16px; margin: 10px 0;" id="response-detail-points">350ç§¯åˆ†</div>
                <div style="color: var(--gray); font-size: 14px; margin-bottom: 16px;" id="response-detail-distance">è·æ‚¨2.3å…¬é‡Œ</div>
                
                <div style="background: var(--card-bg); padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 0.5px solid var(--light-gray);">
                    <div style="font-weight: 500; margin-bottom: 8px;">ä»»åŠ¡æè¿°</div>
                    <div id="response-detail-desc" style="line-height: 1.5;">éœ€è¦æ¡¥èº«å…¨æ™¯ç…§ç‰‡ï¼Œæœ€å¥½æœ‰è½æ—¥æ™¯è‰²</div>
                </div>
                
                <div style="background: var(--card-bg); padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 0.5px solid var(--light-gray);">
                    <div style="display: flex; justify-content: space-between;">
                        <div>
                            <div style="font-size: 13px; color: var(--gray);">å‰©ä½™æ—¶é—´</div>
                            <div style="font-size: 15px;" id="response-detail-time">6å°æ—¶</div>
                        </div>
                        <div>
                            <div style="font-size: 13px; color: var(--gray);">å“åº”äººæ•°</div>
                            <div style="font-size: 15px;" id="response-detail-responders">8äºº</div>
                        </div>
                    </div>
                </div>
                
                <div class="map-placeholder">
                    [ä»»åŠ¡ä½ç½®åœ°å›¾]
                </div>
                
                <button class="button" onclick="acceptResponse()">æ¥å—ä»»åŠ¡</button>
                <button class="button secondary" onclick="showPage('responses-page')" style="margin-top: 10px;">è¿”å›åˆ—è¡¨</button>
            </div>
        </div>
        
        <!-- å®Œæˆä»»åŠ¡é¡µé¢ -->
        <div class="page" id="complete-task-page">
            <div class="navbar">
                <div class="navbar-title">æäº¤ç…§ç‰‡</div>
                <button class="navbar-button" onclick="showPage('response-detail-page')">å–æ¶ˆ</button>
            </div>
            
            <div style="padding: 16px;">
                <div class="photo-preview">
                    <img id="task-preview-image" src="" style="display: none;">
                    <div>ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</div>
                </div>
                
                <div class="form-group">
                    <label>å¤‡æ³¨</label>
                    <textarea id="task-notes" placeholder="æ·»åŠ ç…§ç‰‡è¯´æ˜ï¼ˆå¯é€‰ï¼‰"></textarea>
                </div>
                
                <button class="button" onclick="submitTaskCompletion()">æäº¤å®Œæˆ</button>
            </div>
        </div>
        
        <!-- ä»»åŠ¡æäº¤æˆåŠŸé¡µé¢ -->
        <div class="page" id="task-submitted-page">
            <div style="text-align: center; padding: 60px 20px;">
                <div style="font-size: 60px; color: var(--primary-red);">âœ…</div>
                <h2 style="margin-top: 16px;">ä»»åŠ¡å·²æäº¤</h2>
                <p style="margin-top: 8px;">æ‚¨å·²è·å¾—350ç§¯åˆ†</p>
                <p style="color: var(--gray); margin-top: 8px;">è¯·æ±‚æ–¹å®¡æ ¸é€šè¿‡åï¼Œç§¯åˆ†å°†å­˜å…¥æ‚¨çš„è´¦æˆ·</p>
                
                <button class="button" style="margin-top: 30px;" onclick="showPage('responses-page')">è¿”å›ä»»åŠ¡åˆ—è¡¨</button>
            </div>
        </div>
        
        <!-- æœªç™»å½•ä¿æŠ¤é¡µé¢ -->
        <div class="page" id="login-protected-page">
            <div class="login-protected">
                <div class="login-protected-icon">ğŸ”’</div>
                <h3>è¯·å…ˆç™»å½•</h3>
                <p style="color: var(--gray); margin-top: 8px;">ç™»å½•åæ‰èƒ½æŸ¥çœ‹æ­¤å†…å®¹</p>
                <button class="button" style="margin-top: 20px;" onclick="showPage('login-page')">å‰å¾€ç™»å½•</button>
            </div>
        </div>
        
        <!-- Tab Bar - iOSé£æ ¼ -->
        <div class="tab-bar" id="main-tab-bar">
            <a class="tab-item" onclick="checkLogin('requests-page')">
                <div class="tab-icon">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                    </svg>
                </div>
                <div>å‘é€è¯·æ±‚</div>
            </a>
            <a class="tab-item" onclick="checkLogin('responses-page')">
                <div class="tab-icon">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"/>
                    </svg>
                </div>
                <div>å›åº”è¯·æ±‚</div>
            </a>
            <a class="tab-item" onclick="checkLogin('profile-page')">
                <div class="tab-icon">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <div>æˆ‘çš„</div>
            </a>
        </div>
    </div>

    <script>
        // å½“å‰ç”¨æˆ·è§’è‰² (requesteræˆ–responder)
        let currentUserRole = '';
        let isLoggedIn = false;
        
        // æ˜¾ç¤ºæŒ‡å®šé¡µé¢
        function showPage(pageId) {
            // å¦‚æœæœªç™»å½•ä¸”å°è¯•è®¿é—®éç™»å½•é¡µé¢ï¼Œæ˜¾ç¤ºç™»å½•ä¿æŠ¤é¡µé¢
            if (!isLoggedIn && pageId !== 'login-page') {
                pageId = 'login-protected-page';
            }
            
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // æ›´æ–°tab barçŠ¶æ€
            document.querySelectorAll('.tab-item').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ ¹æ®æ˜¾ç¤ºçš„é¡µé¢æ¿€æ´»å¯¹åº”çš„tab
            if(pageId === 'requests-page' || pageId === 'create-request-page' || pageId === 'request-detail-page') {
                document.querySelectorAll('.tab-item')[0].classList.add('active');
            } else if(pageId === 'responses-page' || pageId === 'response-detail-page' || pageId === 'complete-task-page' || pageId === 'task-submitted-page') {
                document.querySelectorAll('.tab-item')[1].classList.add('active');
            } else if(pageId === 'profile-page') {
                document.querySelectorAll('.tab-item')[2].classList.add('active');
            }
            
            // ç‰¹æ®Šé¡µé¢é€»è¾‘
            if(pageId === 'complete-task-page') {
                // æ¨¡æ‹Ÿæ‹ç…§
                document.getElementById('task-preview-image').src = 'https://via.placeholder.com/300x200/1E1E1E/FFFFFF?text=é¢å’Œå›­åä¸ƒå­”æ¡¥';
                document.getElementById('task-preview-image').style.display = 'block';
                document.querySelector('#complete-task-page .photo-preview div').style.display = 'none';
            }
            
            if(pageId === 'request-detail-page') {
                const status = document.getElementById('request-detail-status').textContent;
                if(status.includes('å·²å®Œæˆ')) {
                    document.getElementById('request-submissions').style.display = 'block';
                }
            }
        }
        
        // æ£€æŸ¥ç™»å½•çŠ¶æ€
        function checkLogin(pageId) {
            if (!isLoggedIn) {
                showPage('login-protected-page');
            } else {
                showPage(pageId);
            }
        }
        
        // ç™»å½•åŠŸèƒ½
        function login() {
            const email = document.getElementById('login-email').value;
            if (!email) {
                alert('è¯·è¾“å…¥é‚®ç®±');
                return;
            }
            
            if(email.includes('requester')) {
                currentUserRole = 'requester';
            } else {
                currentUserRole = 'responder';
            }
            
            isLoggedIn = true;
            document.getElementById('main-tab-bar').style.display = 'flex';
            showPage(currentUserRole === 'requester' ? 'requests-page' : 'responses-page');
        }
        
        // é€€å‡ºç™»å½•
        function logout() {
            isLoggedIn = false;
            currentUserRole = '';
            document.getElementById('main-tab-bar').style.display = 'none';
            showPage('login-page');
        }
        
        // åˆ·æ–°ä»»åŠ¡åˆ—è¡¨
        function refreshTasks() {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            alert('ä»»åŠ¡åˆ—è¡¨å·²åˆ·æ–°');
        }
        
        // æ˜¾ç¤ºè¯·æ±‚è¯¦æƒ…
        function showRequestDetail(title, desc, points, status, views, responders) {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            
            document.getElementById('request-detail-title').textContent = title;
            document.getElementById('request-detail-desc').textContent = desc;
            document.getElementById('request-detail-points').textContent = points + 'ç§¯åˆ†';
            
            let statusText = 'å¾…å“åº”';
            let statusClass = 'status-pending';
            
            if (status === 'inprogress') {
                statusText = 'å“åº”ä¸­';
                statusClass = 'status-inprogress';
            } else if (status === 'completed') {
                statusText = 'å·²å®Œæˆ';
                statusClass = 'status-completed';
            }
            
            document.getElementById('request-detail-status').textContent = statusText;
            document.getElementById('request-detail-status').className = statusClass;
            
            // æ˜¾ç¤º/éšè—å“åº”è€…åŒºåŸŸ
            if (status === 'pending') {
                document.getElementById('responders-section').style.display = 'none';
            } else {
                document.getElementById('responders-section').style.display = 'block';
            }
            
            // æ˜¾ç¤º/éšè—æäº¤ç…§ç‰‡åŒºåŸŸ
            if (status === 'completed') {
                document.getElementById('request-submissions').style.display = 'block';
            } else {
                document.getElementById('request-submissions').style.display = 'none';
            }
            
            showPage('request-detail-page');
        }
        
        // æ˜¾ç¤ºå›åº”è¯¦æƒ…
        function showResponseDetail(title, desc, points, distance, time, responders) {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            
            document.getElementById('response-detail-title').textContent = title;
            document.getElementById('response-detail-desc').textContent = desc;
            document.getElementById('response-detail-points').textContent = points + 'ç§¯åˆ†';
            document.getElementById('response-detail-distance').textContent = 'è·æ‚¨' + distance;
            document.getElementById('response-detail-time').textContent = time;
            document.getElementById('response-detail-responders').textContent = responders + 'äºº';
            
            showPage('response-detail-page');
        }
        
        // æ¥å—ä»»åŠ¡
        function acceptResponse() {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            showPage('complete-task-page');
        }
        
        // æäº¤ä»»åŠ¡å®Œæˆ
        function submitTaskCompletion() {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            showPage('task-submitted-page');
        }
        
        // åˆ›å»ºè¯·æ±‚
        function createRequest() {
            if (!isLoggedIn) {
                showPage('login-protected-page');
                return;
            }
            
            const title = document.getElementById('request-title').value;
            if(!title) {
                alert('è¯·è¾“å…¥è¯·æ±‚æ ‡é¢˜');
                return;
            }
            alert('è¯·æ±‚"' + title + '"å‘å¸ƒæˆåŠŸï¼');
            showPage('requests-page');
        }
        
        // åˆå§‹åŒ–æ˜¾ç¤ºç™»å½•é¡µé¢
        showPage('login-page');
    </script>
</body>
</html>
